const { Whereable } = require('./Whereable')
const $ = Object.assign

module.exports = class DELETE extends Whereable {
  static get _() {
    return $((..._) => new this().from(..._), {
      from: (..._) => new this().from(..._),
    })
  }

  from(entity, key) {
    this._.from = this.target(entity).name
    if (key) this.byKey(key)
    return this
  }

  valueOf() {
    return super.valueOf('DELETE FROM')
  }
}
